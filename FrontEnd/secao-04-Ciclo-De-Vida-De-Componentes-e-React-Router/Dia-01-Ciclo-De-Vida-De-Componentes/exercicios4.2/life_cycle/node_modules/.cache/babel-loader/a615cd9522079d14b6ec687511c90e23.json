{"ast":null,"code":"var _jsxFileName = \"/Users/danielmorais/Documents/Trybe/Trybe-exercicios/Trybe-Exercicios/FrontEnd/secao-04-Ciclo-De-Vida-De-Componentes-e-React-Router/Dia-01-Ciclo-De-Vida-De-Componentes/exercicios4.2/life_cycle/src/components/Counter.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DadJoke extends React.Component {\n  constructor() {\n    super();\n    this.fetchJoke = this.fetchJoke.bind(this);\n    this.saveJoke = this.saveJoke.bind(this);\n    this.state = {\n      jokeObj: undefined,\n      loading: true,\n      storedJokes: []\n    };\n  }\n  async fetchJoke() {\n    this.setState({\n      loading: true\n    });\n    const requestHeaders = {\n      headers: {\n        Accept: 'application/json'\n      }\n    };\n    const requestReturn = await fetch('https://icanhazdadjoke.com/', requestHeaders);\n    const requestObject = await requestReturn.json();\n    this.setState({\n      jokeObj: requestObject\n    });\n    this.setState({\n      loading: false\n    });\n  }\n  componentDidMount() {\n    this.fetchJoke();\n  }\n  saveJoke() {\n    const {\n      jokeObj\n    } = this.state;\n    this.setState(current => {\n      const storedJokes = [...current.storedJokes, jokeObj];\n      return {\n        storedJokes\n      };\n    });\n  }\n  render() {\n    const {\n      storedJokes,\n      loading\n    } = this.state;\n    const loadingElement = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 28\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \" Salvar Piada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: storedJokes.map(_ref => {\n          let {\n            id,\n            joke\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: joke\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 47\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), loading ? loadingElement : ''\n\n      /*\n      Aqui vamos construir nossa lógica com uma renderização condicional\n      do nosso componente Joke, a ideia é renderizar um loading enquanto\n      esperamos a nossa requisição de piadas finalizar.\n       <p>RENDERIZAÇÃO CONDICIONAL</p>\n      */]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default DadJoke;","map":{"version":3,"names":["React","DadJoke","Component","constructor","fetchJoke","bind","saveJoke","state","jokeObj","undefined","loading","storedJokes","setState","requestHeaders","headers","Accept","requestReturn","fetch","requestObject","json","componentDidMount","current","render","loadingElement","map","id","joke"],"sources":["/Users/danielmorais/Documents/Trybe/Trybe-exercicios/Trybe-Exercicios/FrontEnd/secao-04-Ciclo-De-Vida-De-Componentes-e-React-Router/Dia-01-Ciclo-De-Vida-De-Componentes/exercicios4.2/life_cycle/src/components/Counter.jsx"],"sourcesContent":["import React from 'react';\n\nclass DadJoke extends React.Component {\n  constructor() {\n    super();\n    this.fetchJoke=this.fetchJoke.bind(this)\n    this.saveJoke = this.saveJoke.bind(this);\n\n    this.state = {\n      jokeObj: undefined,\n      loading: true,\n      storedJokes: [],\n    }\n  }\n\n  async fetchJoke() {\n    this.setState({loading:true})\n    const requestHeaders = { headers: { Accept: 'application/json' } }\n    const requestReturn = await fetch('https://icanhazdadjoke.com/', requestHeaders)\n    const requestObject = await requestReturn.json();\n    this.setState({\n      jokeObj: requestObject,\n\n    })\n    this.setState({loading:false})\n  }\n\n  componentDidMount() {\n   this.fetchJoke();\n  }\n\n   saveJoke() {\n    const { jokeObj } = this.state;\n    \n    \n    this.setState((current) => {\n      const storedJokes = [...current.storedJokes, jokeObj];\n      return {\n        storedJokes,\n      };\n    }\n)};\n\n  render() {\n    const { storedJokes,loading } = this.state;\n    const loadingElement = <span>Loading...</span>;\n\n    return (\n      <div>\n        <button\n       > Salvar Piada</button>\n        <span>\n          {storedJokes.map(({ id, joke }) => (<p key={id}>{joke}</p>))}\n        </span>\n\n      {\n        loading ? loadingElement:''\n\n\n\n        /*\n        Aqui vamos construir nossa lógica com uma renderização condicional\n        do nosso componente Joke, a ideia é renderizar um loading enquanto\n        esperamos a nossa requisição de piadas finalizar.\n\n        <p>RENDERIZAÇÃO CONDICIONAL</p>\n        */\n      }\n\n      </div>\n    );\n  }\n}\n\nexport default DadJoke;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC;AAE1B,MAAMC,OAAO,SAASD,KAAK,CAACE,SAAS,CAAC;EACpCC,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,SAAS,GAAC,IAAI,CAACA,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC;IAExC,IAAI,CAACE,KAAK,GAAG;MACXC,OAAO,EAAEC,SAAS;MAClBC,OAAO,EAAE,IAAI;MACbC,WAAW,EAAE;IACf,CAAC;EACH;EAEA,MAAMP,SAAS,GAAG;IAChB,IAAI,CAACQ,QAAQ,CAAC;MAACF,OAAO,EAAC;IAAI,CAAC,CAAC;IAC7B,MAAMG,cAAc,GAAG;MAAEC,OAAO,EAAE;QAAEC,MAAM,EAAE;MAAmB;IAAE,CAAC;IAClE,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAEJ,cAAc,CAAC;IAChF,MAAMK,aAAa,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;IAChD,IAAI,CAACP,QAAQ,CAAC;MACZJ,OAAO,EAAEU;IAEX,CAAC,CAAC;IACF,IAAI,CAACN,QAAQ,CAAC;MAACF,OAAO,EAAC;IAAK,CAAC,CAAC;EAChC;EAEAU,iBAAiB,GAAG;IACnB,IAAI,CAAChB,SAAS,EAAE;EACjB;EAECE,QAAQ,GAAG;IACV,MAAM;MAAEE;IAAQ,CAAC,GAAG,IAAI,CAACD,KAAK;IAG9B,IAAI,CAACK,QAAQ,CAAES,OAAO,IAAK;MACzB,MAAMV,WAAW,GAAG,CAAC,GAAGU,OAAO,CAACV,WAAW,EAAEH,OAAO,CAAC;MACrD,OAAO;QACLG;MACF,CAAC;IACH,CAAC,CACJ;EAAA;EAECW,MAAM,GAAG;IACP,MAAM;MAAEX,WAAW;MAACD;IAAQ,CAAC,GAAG,IAAI,CAACH,KAAK;IAC1C,MAAMgB,cAAc,gBAAG;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAuB;IAE9C,oBACE;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QACsB,eACtB;QAAA,UACGZ,WAAW,CAACa,GAAG,CAAC;UAAA,IAAC;YAAEC,EAAE;YAAEC;UAAK,CAAC;UAAA,oBAAM;YAAA,UAAaA;UAAI,GAATD,EAAE;YAAA;YAAA;YAAA;UAAA,QAAY;QAAA,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QACvD,EAGPf,OAAO,GAAGa,cAAc,GAAC;;MAIzB;AACR;AACA;AACA;AACA;AACA,QALQ;IAAA;MAAA;MAAA;MAAA;IAAA,QASI;EAEV;AACF;AAEA,eAAetB,OAAO"},"metadata":{},"sourceType":"module"}